# OSI 7계층

**OSI 7계층(Open Systems Interconnection Reference Model 7 Layers)**이란 국제 표준화 기준(ISO, International Organization for Standardization)에서 **네트워크 통신이 이뤄지는 과정을 7단계로 나눈 네트워크 표준 모델**

OSI 7계층 모델에서 데이터의 송수신 흐름은 다음과 같이 간략하게 표현할 수 있다. 데이터를 송신할 때는 높은 계층에서 낮은 계층으로 전달, 데이터가 수신부의 가장 낮은 계층에 도달하면 수신부에서는 낮은 계층에서 높은 계층으로 데이터를 전달.

각 계층은 독립적이며 데이터를 송신할 때 각 계층에서 필요한 정보를 추가해 데이터를 가공한다. 이때 제어 정보를 담은 **헤더(header)**나 **트레일러(trailer)**가 붙음,  
이 과정을 **데이터 캡슐화(data capsulation)**라고 한다. 데이터 캡슐화를 하는 이유는 수신붑의 같은 계층에서 데이터 호환성을 높이고 오류의 영향을 최소화하기 위함.

송신부에서 데이터 캡슐화를 거친 결과물을 수신부로 보낸다.  
그러면 수신부는 물리 계층부터 응용 계층까지 거치며 받은 데이터에서 헤더와 트레일러를 분석해 제거하는 역캡슐화를 진행. 이 과정에서 각 계층은 필요한 제어 정보 얻음

OSI 7계층의 전체 구조와 역할은 다음과 같다.  
여기서 **프로토콜(protocol)**은 우리말로 통신 규약이라고 하며 **데이터를 송수신하기 위해 정한 규칙**의미.

---

- **7계층(응용 계층)**  
HTTP, FTP 등의 프로콜을 응용 프로그램의 UI를 통해 제공
- **6계층(표현 계층)**  
데이터를 표준화된 형식으로 변경.
- **5계층(세션 계층)**  
세션의 유지 및 해제 등 응용 프로그램 간 통신 제어와 동기화.
- **4계층(전송 계층)**  
신뢰성 있는 데이터를 전달하기 위한 계층, TCP, UDP 같은 전송 방식과 포트(port) 번호 등을 결정.
- **3계층(네트워크 계층)**  
데이터를 송신부에서 수신부까지 보내기 위한 최적 경로를 선택하는 라우팅(routing)을 수행.  
이때 선택한 최적 경로를 라우트(route)라고 한다. 네트워크 계층의 장비로는 라우터(router).
- **2계층(데이터 링크 계층)**    
데이터의 흐름을 관리하여 데이터의 오류 검출 및 복구 등을 수행.   
브리지(bridge), 스위치(switch), 이더넷(ethernet)이 데이터 링크 계층의 장비에 해당.
- **1계층(물리 계층)**  
데이터를 비트(bit) 단위의 0과 1로 변환한 후 장비를 사용해 전송하거나 전기 신호를 데이터로 복원. 리퍼터(repeater), 허브(hub) 등이 물리 계층에 해당하는 장비.

# TCP/IP 4계층

TCP/IP는 **인터넷에서 데이터를 주고받기 위한 네트워크 프로토콜**을 의미.  
**TCP(Transmission Control Protocol, 전송 제어 프로토콜)**는 데이터를 나눈 단위인 패킷의 전달 여부와 전송 순서를 보장하는 통신 방식, **IP(Internet Protocol, 인터넷 프로토콜)**는 패킷을 빠르게 보내기 위한 통신 방식을 의미. TCP/IP 기반 프로토콜에는 대표적으로 HTTP.

TCP/IP에 맞춰 네트워크 통신 표준인 **OSI 7계층을 단순화한 것**이 TCP/IP 4계층.

TCP/IP  4계층에서 데이터 흐름과 각 계층의 역할

- **4계층(응용 계층)**  
사용자와 소프트웨어를 연결해 주는 계층,  
HTTP, HTTPS, DNS 등의 프로토콜이 작동.
- **3계층(전송 계층)**  
데이터의 신로성을 보장, 포트 번호로 데이터를 적절한 응용 프로그램에 전달하는 역할.  
TCP, UDP 등의 프로토콜이 전송 계층에 속한다. 전송 계층의 데이터 단위는 **세그먼트(segment).**
- **2계층(인터넷 계층)**  
데이터를 최종 목적지까지 도달할 수 있게 하는 계층, IP가 대표적인 프로토콜.  
인터넷 계층에서는 전송 계층으로부터 받은 데이터에 헤더를 붙여 캡슐화 하는데,  
이를 **패킷(packet)** 또는 **데이터그램(datagram)**
- **1계층(네트워크 인터페이스 계층)**  
네트워크 접근 계층이라고도 하며, 데이터를 전기 신호로 변환하고 MAC 주소를 사용해 기기에 데이터를 전달. 이더넷, Wi-Fi 등이 해당 계층에 속하는 대표적인 프로토콜.

---

**패킷(packet)**  
네트워크에서 주고받는 데이터를 작게 분할한 단위.  
패킷에는 데이터의 송신 주소, 수신 주소 등의 정보가 포함되어 데이터를 목적지에 제대로 전달할 수 있게 한다.

**MAC 주소(Media Access Control address)**  
48비트로 구성된 하드웨어 고유의 주소로, 네트워크 인터페이스 계층에서 사용.

---

**IP 주소(IP address)**  
IP에서 컴퓨터 똔느 네트워크 장치를 식별하기 위한 값.  
IPv4에서 주소 값은 xxx.xxx.xxx.xxx 형태, 이는 8자리 2진수 4개를 10진수로 표현. IP주소는 다음 그림에서 보듯이 네트워크부와 호스트부로 나뉜다. **네트워크부**는 **해당 주소가 어떠한 네트워크에 속해 있는지 구분 하는 값**, **호스트부**는 **해당 네트워크에서 어떠한 기기인지를 나타내는 값**.

**서브넷 마스크(subent mask)**  
네트워크부와 호스트부를 구분하려면 서브넷 마스크를 사용한다.  
서브넷 마스크는 IP와 동일한 구조인 8자리 2진수 4개로 구성. 연속적인 1과 0으로 구성되어 있어 IP 주소와 and 연산을 하면 IP 주소에서 네트워크부와 호스트부를 알아 낼 수 있다.

서브넷 마스크와 IP 주소를 and 연산하면 IP주소에서 네트워크부와 호스트부를 알 수 있다